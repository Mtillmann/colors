!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):r((e="undefined"!=typeof globalThis?globalThis:e||self).Colors={})}(this,(function(e){"use strict";e.AltShadeLookup=class{shadeMap={Black:"Black","Olive Greenish Grey":"Black","Very Dark Violet":"Black","Very Dark Purple Red":"Black","Very Dark Purple":"Black","Deep Dark Blue Green":"Black","Deep Navy Blue":"Black","Brownish Dark Grey":"Black","Light Azure":"Blue","Medium Blue":"Blue","Violet Blue":"Blue","Sky Blue":"Blue","Light Greyish Azure":"Blue",Azure:"Blue","Greyish Blue":"Blue","Cyanish Grey":"Blue",Blue:"Blue","Dark Greyish Cyan":"Blue","Light Greyish Yellow-Brown":"Brown","Light Greyish Red-Orange":"Brown","Orangish Grey":"Brown","Light Red-Orange":"Brown","Greyish Yellow Brown":"Brown","Grey Orange":"Brown","Greyish Red Orange":"Brown","Brownish Grey":"Brown","Yellowish Brown, Tan":"Brown","Greyish Brown":"Brown","Orange Brown":"Brown","Light Greenish Blue":"Cyan",Cyan:"Cyan","Bluish Green":"Cyan","Greyish Cyan":"Cyan","Greyish Cyan Green":"Cyan","Dark Blue":"Dark Blue","Dark Greenish Blue":"Dark Blue","Dark Navy Blue":"Dark Blue","Navy Blue":"Dark Blue","Greyish Brown Green":"Dark Brown","Very Dark Brown":"Dark Brown","Dark Grey":"Dark Brown","Dark Brown":"Dark Brown","Greenish Blue":"Dark Cyan","Greyish Olive Green":"Dark Green","Medium Dark Green":"Dark Green","Deep Dark Green":"Dark Green","Dark Olive Green":"Dark Green","Dark Blue Green":"Dark Green","Dark Green":"Dark Green","Dark Cyanish Grey":"Dark Grey","Dark Red Purple":"Dark Magenta","Dark Purple Red":"Dark Magenta","Dark Orange":"Dark Orange","Dark Red":"Dark Red","Dark Violet":"Dark Violet","Dark Purple":"Dark Violet","Yellowish Brown":"Dark Yellow","Orange Yellow":"Dark Yellow",Yellow:"Dark Yellow",Brown:"Dark Yellow","Cyan Green":"Green","Light Greyish Green":"Green","Greenish Grey":"Green","Cyanish Green":"Green","Yellowish Grey":"Green","Greyish Green":"Green","Olive-Greenish Grey":"Green","Dark Greenish Grey":"Green","Greyish Yellow-Green":"Green","Spring Green":"Green","Greyish Yellow":"Green","Dark Greyish Green":"Green","Greenish Yellow":"Green","Yellowish Green":"Green","Yellow Green":"Green","Olive Green":"Green","Bright Green":"Green",Green:"Green",Grey:"Grey","Light Purple Grey":"Grey","Light Grey":"Grey","Light Brownish Grey":"Grey","Light Yellowish Grey":"Grey","Light Greenish Grey":"Grey","Purplish Grey":"Grey","Bluish Grey":"Grey","Purple Grey":"Grey",undefined:"Grey","Baby Blue":"Light Blue","Pale Blue":"Light Blue","Cyanish-green":"Light Blue","Greyish Green-Blue":"Light Blue","Pale Greenish Blue, Light Cyan":"Light Cyan","Pale Green":"Light Green","Light Greyish Yellow":"Light Green","Cyanish Green, Turquoise":"Light Green","Pale Yellow":"Light Green","Light Green":"Light Green","Cyanish-green, Turquoise":"Light Green","Pale Red Grey":"Light Grey","Pale Orange":"Light Orange","Light Pink":"Light Pink","Pale Reddish Grey":"Light Pink","Pale Pink":"Light Pink",Pink:"Light Pink","Pale Red":"Light Pink","Light Reddish Grey":"Light Pink","Reddish Grey":"Light Pink","Light Pink Red":"Light Pink","Pale Purple":"Light Violet","Pale Magenta":"Light Violet","Light Purple":"Light Violet","Light Magenta":"Light Violet",Magenta:"Magenta","Greyish Purple Red":"Magenta",Orange:"Orange","Pink Red":"Pink","Hot Pink":"Pink","Greyish Purple":"Pink","Dark Greyish Brown":"Pink","Greyish Red":"Pink","Purple Red":"Pink","Light Red":"Red","Rose Red":"Red","Red Orange":"Red",Red:"Red",Violet:"Violet",Purple:"Violet","Dark Magenta":"Violet","Blue Violet":"Violet","Greenish Cyan":"White","Pale Greyish Orange":"White","Ivory Yellow":"White","Light Yellow":"White","Light Yellowish Brown":"Yellow"};shade(e,r=!1){const[i,l,n]=e.hsl();return this.shadeByHSL(i,l,n,r)}shadeByRGB(e,r,i,l=!1){return this.shade(chroma(e,r,i),l)}shadeByHSL(e,r,i,l=!1){if(r>1&&(r/=100),i>1&&(i/=100),i>.975)return l?["White","White"]:"White";if(i<.025)return l?["Black","Black"]:"Black";const n=this.find(e,r,i),h=this.shadeMap[n];return l?[n,h]:n}find(e,r,i){return e<=8?i<.25?r<.35?"Brownish Dark Grey":"Dark Brown":i<.45?r<.35?"Greyish Red":"Dark Red":i<.65?r<.35?"Greyish Red":"Red":i<.85?r<.35?"Reddish Grey":"Light Red":i<.99?r<.35?"Pale Red Grey":"Pale Red":"Red":e<=22||e<=30?i<.25?r<.35?"Brownish Dark Grey":"Dark Brown":i<.45?r<.35?"Greyish Brown":"Dark Brown":i<.65?r<.2?"Brownish Grey":r<.5?"Greyish Red Orange":"Red Orange":i<.85?r<.35?"Reddish Grey":r<.5?"Light Greyish Red-Orange":"Light Red-Orange":i<.99?r<.35?"Pale Red Grey":r<.5?"Pale Reddish Grey":"Pale Red":"Red Orange":e<=38?i<.25?r<.35?"Brownish Dark Grey":"Dark Brown":i<.45?r<.35?"Brownish Grey":r<.65?"Greyish Brown":r<.8?"Orange Brown":"Dark Orange":i<.65?r<.25?"Orangish Grey":r<.5?"Grey Orange":r<.75?"Yellowish Brown, Tan":"Orange":i<.85?r<.2?"Light Brownish Grey":r<.5?"Light Greyish Yellow-Brown":"Light Yellowish Brown":i<.99?r<.35?"Pale Greyish Orange":"Pale Orange":"Orange":e<=52?i<.25?r<.35?"Dark Grey":"Dark Brown":i<.45?r<.25?"Dark Greenish Grey":r<.5?"Greyish Brown Green":"Brown":i<.65?r<.25?"Brownish Grey":r<.5?"Greyish Yellow Brown":r<.75?"Yellowish Brown":"Orange Yellow":i<.85?r<.2?"Light Grey":r<.5?"Light Greyish Yellow-Brown":"Light Yellowish Brown":i<.99?r<.35?"Yellowish Grey":r<.5?"Greyish Yellow":"Ivory Yellow":"Orange Yellow":e<=68?i<.25?r<.35||r<.5?"Dark Olive Green":"Olive Green":i<.45?r<.2?"Olive Greenish Grey":r<.3?"Greyish Olive Green":r<.7?"Olive Green":"Yellow Green":i<.65?r<.25?"Yellowish Grey":r<.75?"Greyish Yellow":"Yellow":i<.85?r<.2?"Light Yellowish Grey":r<.7?"Light Greyish Yellow":"Pale Yellow":i<.99?r<.35?"Yellowish Grey":r<.5?"Greyish Yellow":"Light Yellow":"Yellow":e<=80?i<.25?r<.6?"Dark Olive Green":"Olive Green":i<.45?r<.2?"Olive-Greenish Grey":r<.3?"Greyish Olive Green":r<.65?"Olive Green":"Yellow Green":i<.65?r<.45?"Yellowish Grey":r<.6?"Greyish Yellow-Green":r<.8?"Yellowish Green":"Greenish Yellow":i<.85?r<.35?"Yellowish Grey":r<.7?"Greyish Yellow":"Pale Yellow":i<.99?r<.5?"Yellowish Grey":r<.7?"Light Greyish Yellow":"Pale Yellow":"Greenish Yellow":e<=100?i<.25?r<.25?"Dark Greyish Green":"Dark Green":i<.45?r<.2?"Dark Greenish Grey":r<.3?"Dark Greyish Green":r<.65?"Olive Green":"Yellow Green":i<.65?r<.2?"Greenish Grey":r<.5?"Greyish Green":"Yellowish Green":i<.85?r<.35?"Light Greenish Grey":r<.5?"Light Greyish Green":"Light Green":i<.99?r<.2?"Light Grey":"Pale Green":"Yellow Green":e<=128?i<.25?r<.25?"Deep Dark Green":"Dark Green":i<.45?r<.2?"Dark Greyish Green":r<.6?"Dark Green":"Green":i<.65?r<.2?"Greenish Grey":r<.4?"Greyish Green":r<.85?"Green":"Bright Green":i<.85?r<.35?"Light Greyish Green":"Light Green":i<.99?r<.2?"Light Grey":"Pale Green":"Green":e<=155?i<.25?r<.25?"Deep Dark Green":"Dark Green":i<.45?r<.25?"Dark Greenish Grey":r<.6?"Medium Dark Green":"Green":i<.65?r<.25?"Greenish Grey":r<.4||r<.75?"Green":"Spring Green":i<.85?r<.35?"Light Greenish Grey":r<.5?"Cyanish-green":"Cyanish-green, Turquoise":i<.99?r<.2?"Light Grey":"Pale Green":"Spring Green":e<=172?i<.25?r<.35?"Deep Dark Green":"Dark Green":i<.45?r<.2?"Dark Greenish Grey":r<.4?"Dark Greyish Green":r<.75?"Medium Dark Green":"Cyanish Green":i<.65?r<.25?"Greenish Grey":r<.45?"Greyish Cyan Green":"Cyan Green":i<.85?r<.35?"Light Greenish Grey":r<.6?"Light Green":"Cyanish Green":i<.99?r<.3?"Light Grey":"Pale Green":"Greenish Cyan":e<=196?i<.25?r<.4?"Deep Dark Blue Green":"Dark Blue Green":i<.45?r<.2?"Dark Cyanish Grey":r<.4?"Dark Greyish Cyan":r<.6?"Dark Greenish Blue":"Greenish Blue":i<.65?r<.3?"Cyanish Grey":r<.5?"Greyish Cyan":r<.75?"Bluish Green":"Cyan":i<.85?r<.2?"Light Grey":r<.6?"Greyish Green-Blue":"Light Greenish Blue":i<.99?r<.3?"Light Grey":"Pale Greenish Blue, Light Cyan":"Cyan":e<=212?i<.25?r<.4?"Deep Navy Blue":"Navy Blue":i<.45?r<.2?"Dark Navy Blue":r<.4?"Navy Blue":"Dark Blue":i<.65?r<.3?"Bluish Grey":r<.5?"Greyish Blue":r<.75?"Azure":"Sky Blue":i<.85?r<.25?"Light Grey":r<.6?"Light Greyish Azure":"Light Azure":i<.99?r<.45?"Light Grey":r<.7?"Pale Blue":"Baby Blue":"Azure":e<=250?i<.25?r<.4?"Deep Navy Blue":"Navy Blue":i<.45?r<.2?"Dark Navy Blue":r<.4?"Navy Blue":r<.7?"Dark Blue":"Blue":i<.65?r<.2?"Bluish Grey":r<.5?"Greyish Blue":"Blue":i<.85?r<.2?"Grey":r<.5?"Greyish Blue":"Medium Blue":i<.99?r<.45?"Light Grey":r<.8?"Pale Blue":"Baby Blue":"Blue":e<=270?i<.25?r<.4?"Deep Navy Blue":"Navy Blue":i<.45?r<.2?"Dark Navy Blue":r<.5?"Navy Blue":r<.7?"Dark Blue":"Blue":i<.65?r<.2?"Purplish Grey":r<.4?"Purple":r<.75?"Violet":r<.9?"Violet Blue":"Blue":i<.85?r<.2?"Grey":r<.4?"Purple Grey":r<.75?"Purple":"Violet Blue":i<.99?r<.45?"Light Grey":r<.8?"Pale Purple":"Light Purple":"Violet Blue":e<=279?i<.25?r<.4?"Dark Violet":"Blue Violet":i<.45?r<.2?"Purple Grey":"Blue Violet":i<.65?r<.2?"Purplish Grey":r<.4?"Purple":r<.75?"Violet":"Blue Violet":i<.85?r<.2?"Light Purple Grey":r<.4?"Light Purple":"Purple":i<.99?r<.3?"Light Grey":"Light Purple":"Blue Violet":e<=295?i<.25?r<.4?"Very Dark Violet":"Dark Violet":i<.45?r<.2?"Dark Purple":r<.5?"Dark Violet":"Violet":i<.65?r<.2?"Purplish Grey":"Purple":i<.85?r<.2?"Light Purple Grey":"Light Purple":i<.99?r<.3?"Light Grey":"Light Purple":"Violet":e<=308?i<.25?r<.4?"Very Dark Purple":"Dark Purple":i<.45?r<.25?"Greyish Purple":r<.5?"Dark Purple":"Purple":i<.65?r<.24?"Greyish Purple":r<.5||r<.75?"Purple":"Magenta":i<.85?r<.25?"Light Purple Grey":r<.4||r<.75?"Light Purple":"Magenta":i<.99?r<.3?"Light Grey":"Pale Magenta":"Magenta":e<=318?i<.25?r<.4?"Very Dark Purple":"Dark Purple":i<.45?r<.25?"Greyish Purple":r<.5?"Dark Red Purple":r<.7?"Dark Purple Red":"Dark Magenta":i<.65?r<.24?"Greyish Purple":r<.5||r<.75?"Purple":"Hot Pink":i<.85?r<.25?"Light Purple Grey":r<.4||r<.75?"Light Magenta":"Hot Pink":i<.99?r<.3?"Light Grey":"Light Pink":"Hot Pink":e<=343?i<.25?r<.4?"Very Dark Purple Red":r<.6?"Dark Purple Red":"Purple Red":i<.45?r<.3?"Greyish Purple Red":r<.5?"Dark Purple Red":"Purple Red":i<.65?r<.24?"Greyish Purple":r<.5?"Purple":r<.75?"Purple Red":"Hot Pink":i<.85?r<.25?"Light Purple Grey":r<.4?"Greyish Purple":r<.75?"Purple":"Hot Pink":i<.99?r<.35?"Light Grey":r<.7?"Light Pink":"Pink":"Rose Red":e<=360?i<.25?r<.4?"Very Dark Brown":"Dark Brown":i<.45?r<.2?"Dark Greyish Brown":r<.6?"Dark Brown":"Dark Red":i<.65?r<.24?"Greyish Red":r<.5?"Purple Red":r<.75?"Rose Red":"Red":i<.85?r<.25?"Light Reddish Grey":r<.4?"Light Red":r<.75?"Light Pink Red":"Pink Red":i<.99?r<.3?"Light Grey":r<.7?"Pale Pink":"Pink":"Red":"Black"}},e.ColorLookup=class{colorMap;lookupCube;chromaCache=new Map;lookupCache=new Map;downsampleFactor=0;options={deltaEThreshold:5};constructor(e,r,i={}){this.downsampleFactor=256/e.length,this.colorMap=r,this.lookupCube=e,this.options={...this.options,...i}}cachedChromaByRGB(e,r,i){const l=`${e}_${r}_${i}`;return this.chromaCache.has(l)||this.chromaCache.set(l,chroma(e,r,i)),this.chromaCache.get(l)}getClosest(e,r,i){return[e[r],e.slice(0,r).reverse().filter((e=>null!==e))[0],e.slice(r+1,i).filter((e=>null!==e))[0]].filter((e=>null!=e))}lookup(e,r){const i=e.rgb();return this.lookupByRGB(i[0],i[1],i[2],r)}lookupByRGB(e,r,i,l){const n=`${e=~~e}_${r=~~r}_${i=~~i}`;if(this.lookupCache.has(n))return this.lookupCache.get(n);const h=Math.floor(e/this.downsampleFactor),a=Math.floor(r/this.downsampleFactor),t=Math.floor(i/this.downsampleFactor),o=this.lookupCube.length,G=this.cachedChromaByRGB(e,r,i),s=G.lab(),y=[];this.getClosest(this.lookupCube,h,o).forEach((e=>{this.getClosest(e,a,o).forEach((e=>{const r=this.getClosest(e,t,o);null!==r&&y.push(...[].concat(...r))}))}));let u=[],g=[];for(const e of y){const r=this.colorMap[e],i=chroma.deltaE(chroma.lab(s[0],s[1],s[2]),chroma.lab(r.L,r.A,r.B));if(i<=this.options.deltaEThreshold){if(g.push({...r,deltaE:i}),l&&g.length>=l)break}else(0===u.length||i<u[0].deltaE)&&(u=[{...r,deltaE:i,isFallback:!0}])}0===g.length&&(g=u);const k={},B={};for(const e of g){const r=e.altShade;r in B||(B[r]=0),B[r]++;for(const r of e.shade)r in k||(k[r]=0),k[r]++}g.sort(((e,r)=>e.deltaE-r.deltaE));const d=Object.entries(k);d.sort(((e,r)=>r[1]-e[1]));const p=Object.entries(B);p.sort(((e,r)=>r[1]-e[1]));const w=G.hex();return g=g.map((e=>(e.euclideanDistance=chroma.distance(e.hex,w,"rgb"),e))),this.lookupCache.set(n,{matchedHex:g[0].hex,givenColor:[e,r,i,s[0],s[1],s[2]],colors:g,shades:d,altShades:p}),this.lookupCache.get(n)}},e.ShadeLookup=class{binaryLookup;samplingFactor;edgeLength;byteToShadeMap;constructor(e,r){this.samplingFactor=Math.cbrt(Math.pow(2,24)/e.length),this.binaryLookup=e,this.edgeLength=256/this.samplingFactor,this.byteToShadeMap=r}shade(e){return this.shadeByRGB(...e.rgb())}shadeByRGB(e,r,i){e=~~(e/this.samplingFactor),r=~~(r/this.samplingFactor),i=~~(i/this.samplingFactor);const l=e*this.edgeLength*this.edgeLength+r*this.edgeLength+i;return this.byteToShadeMap[this.binaryLookup[l].charCodeAt(0)]}shades(e,r=3){return this.shadesByRGB(...e.rgb(),r)}shadesByRGB(e,r,i,l=3){if(l<1)throw new Error("searchCubeEdgeLength must be greater than 0");if(l%2==0)throw new Error("searchCubeEdgeLength must be an odd number");const n={},h=~~(.5*l),a=-h;for(let l=a;l<=h;l++){const t=e+l*this.samplingFactor;let o,G;if(!(t>255||t<0))for(let e=a;e<=h;e++)if(o=r+e*this.samplingFactor,!(o>255||o<0))for(let e=a;e<=h;e++){if(G=i+e*this.samplingFactor,G>255||G<0)continue;const r=this.shadeByRGB(t,o,G);r in n?n[r]++:n[r]=1}}const t=Object.entries(n);return t.sort(((e,r)=>r[1]-e[1])),t}},Object.defineProperty(e,"__esModule",{value:!0})}));
